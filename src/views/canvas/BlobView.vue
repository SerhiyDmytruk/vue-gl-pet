<script setup lang="ts">
import { onMounted } from 'vue'
import { gsap } from 'gsap'

var tl = gsap.timeline()

onMounted(() => {
  const blobsEl = document.querySelectorAll('.block [id*="blob"]')

  for (var i = 0; i < blobsEl.length; i++) {
    var t = tl.to(document.querySelector('#blob' + i), randomBetween(14, 20), {
      y: -100,
      repeat: -1,
      repeatDelay: randomBetween(1, 3),
      yoyo: false,
      ease: 'Linear.easeNone'
    })

    tl.add(t, i + 1)
  }

  tl.seek(100)
  tl.timeScale(1)

  function randomBetween(min, max) {
    return Math.floor(Math.random() * (max - min + 1) + min)
  }
})
</script>

<template>
  <div>
    <div>
      <h1>Blob animation by Canvas</h1>
      <p>This code example is to try to implement the code in vue and understand how it works</p>
      <a href="https://www.blobmaker.app/">blob generator</a>
    </div>

    <div class="blob-wrapper">
      <div class="blob">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          width="600px"
          height="600px"
          viewBox="0 0 600 600"
          xml:space="preserve"
        >
          <defs>
            <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color: rgb(254, 0, 242)"></stop>
              <stop offset="50%" style="stop-color: tomato"></stop>
              <stop offset="100%" style="stop-color: rgb(251, 2, 128)"></stop>
            </linearGradient>
          </defs>

          <path fill="url(#gradient)" transform="translate(100 100)">
            <animate
              attributeName="d"
              dur="20s"
              repeatCount="indefinite"
              values="
M60.8,-47.4C75.7,-29.8,82.6,-4.7,77.7,18.1C72.8,40.9,56.1,61.3,35.1,70.4C14.2,79.5,-11,77.3,-32.9,67.1C-54.8,57,-73.6,39,-75.9,19.9C-78.2,0.7,-64.1,-19.6,-48.7,-37.3C-33.4,-54.9,-16.7,-70,3.1,-72.5C22.9,-75,45.9,-64.9,60.8,-47.4Z;
M55.6,-44.9C70.8,-25.3,80.9,-2.3,77.2,19.1C73.5,40.5,56,60.2,35.4,67.9C14.9,75.6,-8.7,71.3,-25.7,60.4C-42.7,49.5,-53.1,32,-57.1,13.4C-61,-5.2,-58.4,-24.9,-47.8,-43.4C-37.3,-61.9,-18.6,-79.2,0.8,-79.9C20.2,-80.5,40.4,-64.4,55.6,-44.9Z;
M60.8,-47.4C75.7,-29.8,82.6,-4.7,77.7,18.1C72.8,40.9,56.1,61.3,35.1,70.4C14.2,79.5,-11,77.3,-32.9,67.1C-54.8,57,-73.6,39,-75.9,19.9C-78.2,0.7,-64.1,-19.6,-48.7,-37.3C-33.4,-54.9,-16.7,-70,3.1,-72.5C22.9,-75,45.9,-64.9,60.8,-47.4Z;
M44.1,-41.7C53.4,-23.7,54.3,-5.5,52.8,16.5C51.3,38.4,47.3,64.2,33,72.8C18.6,81.4,-6.1,72.7,-21.6,59.6C-37.2,46.5,-43.5,28.9,-49.3,9.5C-55.1,-9.9,-60.3,-31.1,-52,-48.9C-43.7,-66.8,-21.9,-81.3,-2.2,-79.5C17.5,-77.8,34.9,-59.8,44.1,-41.7Z;
M58.9,-49.5C67.9,-35.6,61.1,-11.6,55.8,13.1C50.5,37.9,46.6,63.3,32.7,71.4C18.7,79.5,-5.4,70.3,-23.5,58C-41.6,45.8,-53.8,30.4,-55.8,14.7C-57.8,-1,-49.6,-17,-38.6,-31.4C-27.6,-45.8,-13.8,-58.5,5.6,-63C24.9,-67.4,49.8,-63.5,58.9,-49.5Z;
"
            ></animate>
          </path>
        </svg>
      </div>
    </div>
    <div class="block">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        x="0px"
        y="0px"
        width="300px"
        height="300px"
        viewBox="0 0 300 300"
        xml:space="preserve"
      >
        <defs>
          <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color: rgb(254, 0, 242)"></stop>
            <stop offset="50%" style="stop-color: tomato"></stop>
            <stop offset="100%" style="stop-color: rgb(251, 2, 128)"></stop>
          </linearGradient>
        </defs>

        <path fill="white" transform="translate(50 500)" id="blob0">
          <animate
            attributeName="d"
            dur="20s"
            repeatCount="indefinite"
            values="
M60.8,-47.4C75.7,-29.8,82.6,-4.7,77.7,18.1C72.8,40.9,56.1,61.3,35.1,70.4C14.2,79.5,-11,77.3,-32.9,67.1C-54.8,57,-73.6,39,-75.9,19.9C-78.2,0.7,-64.1,-19.6,-48.7,-37.3C-33.4,-54.9,-16.7,-70,3.1,-72.5C22.9,-75,45.9,-64.9,60.8,-47.4Z;
M55.6,-44.9C70.8,-25.3,80.9,-2.3,77.2,19.1C73.5,40.5,56,60.2,35.4,67.9C14.9,75.6,-8.7,71.3,-25.7,60.4C-42.7,49.5,-53.1,32,-57.1,13.4C-61,-5.2,-58.4,-24.9,-47.8,-43.4C-37.3,-61.9,-18.6,-79.2,0.8,-79.9C20.2,-80.5,40.4,-64.4,55.6,-44.9Z;
M60.8,-47.4C75.7,-29.8,82.6,-4.7,77.7,18.1C72.8,40.9,56.1,61.3,35.1,70.4C14.2,79.5,-11,77.3,-32.9,67.1C-54.8,57,-73.6,39,-75.9,19.9C-78.2,0.7,-64.1,-19.6,-48.7,-37.3C-33.4,-54.9,-16.7,-70,3.1,-72.5C22.9,-75,45.9,-64.9,60.8,-47.4Z;
M44.1,-41.7C53.4,-23.7,54.3,-5.5,52.8,16.5C51.3,38.4,47.3,64.2,33,72.8C18.6,81.4,-6.1,72.7,-21.6,59.6C-37.2,46.5,-43.5,28.9,-49.3,9.5C-55.1,-9.9,-60.3,-31.1,-52,-48.9C-43.7,-66.8,-21.9,-81.3,-2.2,-79.5C17.5,-77.8,34.9,-59.8,44.1,-41.7Z;
M58.9,-49.5C67.9,-35.6,61.1,-11.6,55.8,13.1C50.5,37.9,46.6,63.3,32.7,71.4C18.7,79.5,-5.4,70.3,-23.5,58C-41.6,45.8,-53.8,30.4,-55.8,14.7C-57.8,-1,-49.6,-17,-38.6,-31.4C-27.6,-45.8,-13.8,-58.5,5.6,-63C24.9,-67.4,49.8,-63.5,58.9,-49.5Z;
"
          ></animate>
        </path>

        <path fill="white" transform="translate(150 400)" id="blob1">
          <animate
            attributeName="d"
            dur="20s"
            repeatCount="indefinite"
            values="
M26.1,15.1C14.7,35,-27.1,37.4,-36.5,18.7C-45.9,-0.1,-23,-39.9,-2.1,-41.1C18.8,-42.3,37.6,-4.8,26.1,15.1Z;
M43.8,27.3C32.4,45,-18,42.2,-31.8,23.1C-45.5,4.1,-22.8,-31.3,2.4,-29.9C27.6,-28.5,55.2,9.6,43.8,27.3Z;
M50.2,21.7C42.7,42,-1.2,34,-15.6,9.8C-30,-14.5,-15,-54.9,6.9,-50.9C28.8,-46.9,57.7,1.5,50.2,21.7Z;
M44.5,20.4C37.1,38.4,-3.5,32,-16.5,10.7C-29.5,-10.7,-14.7,-46.8,5.6,-43.6C25.9,-40.4,51.9,2.3,44.5,20.4Z;
M19.8,6.8C9.9,28.6,-24.7,31.4,-32.1,11C-39.5,-9.4,-19.8,-53,-2.5,-54.4C14.9,-55.8,29.7,-15.1,19.8,6.8Z;
"
          ></animate>
        </path>

        <path fill="white" transform="translate(200 500)" id="blob2">
          <animate
            attributeName="d"
            dur="20s"
            repeatCount="indefinite"
            values="
M60.4,-29.9C74.4,-10.5,79.4,19.1,67.8,35.7C56.2,52.4,28.1,56.1,8.1,51.4C-12,46.8,-23.9,33.8,-30.7,19.9C-37.4,6,-38.9,-8.6,-32.9,-23.3C-26.9,-38,-13.5,-52.7,4.9,-55.5C23.2,-58.3,46.3,-49.2,60.4,-29.9Z;
M64.9,-40.6C73.6,-22.4,62.9,3.9,48.9,18.2C34.8,32.5,17.4,34.9,0.6,34.5C-16.2,34.2,-32.4,31.1,-41,19.9C-49.5,8.8,-50.5,-10.5,-42.4,-28.3C-34.3,-46.2,-17.2,-62.6,5.5,-65.7C28.1,-68.9,56.2,-58.8,64.9,-40.6Z;
M34.8,-22.8C40,-11.1,35.5,3.4,28.1,22.9C20.7,42.5,10.3,67.1,1.5,66.2C-7.3,65.3,-14.6,39,-20.5,20.3C-26.4,1.6,-30.9,-9.4,-27.2,-20.2C-23.6,-31,-11.8,-41.7,1.5,-42.5C14.8,-43.4,29.6,-34.5,34.8,-22.8Z;
M44.8,-22C54.8,-8.5,57.5,13.1,48.8,29.7C40.1,46.4,20,58.1,5.6,54.8C-8.8,51.6,-17.6,33.4,-21.5,19.5C-25.4,5.6,-24.4,-3.9,-20,-14.1C-15.6,-24.3,-7.8,-35.1,4.8,-37.9C17.4,-40.7,34.8,-35.4,44.8,-22Z;
M41.9,-29.8C51.1,-8.2,53.3,11.9,45.1,30.7C36.9,49.5,18.5,67,-3.2,68.8C-24.8,70.6,-49.7,56.8,-63,35C-76.4,13.3,-78.2,-16.5,-65.8,-40C-53.4,-63.4,-26.7,-80.6,-5.2,-77.6C16.3,-74.7,32.7,-51.5,41.9,-29.8Z;
"
          ></animate>
        </path>

        <path fill="white" transform="translate(350 450)" id="blob3">
          <animate
            attributeName="d"
            dur="20s"
            repeatCount="indefinite"
            values="
M60.8,-47.4C75.7,-29.8,82.6,-4.7,77.7,18.1C72.8,40.9,56.1,61.3,35.1,70.4C14.2,79.5,-11,77.3,-32.9,67.1C-54.8,57,-73.6,39,-75.9,19.9C-78.2,0.7,-64.1,-19.6,-48.7,-37.3C-33.4,-54.9,-16.7,-70,3.1,-72.5C22.9,-75,45.9,-64.9,60.8,-47.4Z;
M55.6,-44.9C70.8,-25.3,80.9,-2.3,77.2,19.1C73.5,40.5,56,60.2,35.4,67.9C14.9,75.6,-8.7,71.3,-25.7,60.4C-42.7,49.5,-53.1,32,-57.1,13.4C-61,-5.2,-58.4,-24.9,-47.8,-43.4C-37.3,-61.9,-18.6,-79.2,0.8,-79.9C20.2,-80.5,40.4,-64.4,55.6,-44.9Z;
M60.8,-47.4C75.7,-29.8,82.6,-4.7,77.7,18.1C72.8,40.9,56.1,61.3,35.1,70.4C14.2,79.5,-11,77.3,-32.9,67.1C-54.8,57,-73.6,39,-75.9,19.9C-78.2,0.7,-64.1,-19.6,-48.7,-37.3C-33.4,-54.9,-16.7,-70,3.1,-72.5C22.9,-75,45.9,-64.9,60.8,-47.4Z;
M44.1,-41.7C53.4,-23.7,54.3,-5.5,52.8,16.5C51.3,38.4,47.3,64.2,33,72.8C18.6,81.4,-6.1,72.7,-21.6,59.6C-37.2,46.5,-43.5,28.9,-49.3,9.5C-55.1,-9.9,-60.3,-31.1,-52,-48.9C-43.7,-66.8,-21.9,-81.3,-2.2,-79.5C17.5,-77.8,34.9,-59.8,44.1,-41.7Z;
M58.9,-49.5C67.9,-35.6,61.1,-11.6,55.8,13.1C50.5,37.9,46.6,63.3,32.7,71.4C18.7,79.5,-5.4,70.3,-23.5,58C-41.6,45.8,-53.8,30.4,-55.8,14.7C-57.8,-1,-49.6,-17,-38.6,-31.4C-27.6,-45.8,-13.8,-58.5,5.6,-63C24.9,-67.4,49.8,-63.5,58.9,-49.5Z;
"
          ></animate>
        </path>

        <path fill="white" transform="translate(500 500)" id="blob4">
          <animate
            attributeName="d"
            dur="20s"
            repeatCount="indefinite"
            values="
M41.2,24.6C26.8,48.7,-29.7,49.2,-43.6,25.5C-57.5,1.7,-28.8,-46.3,-0.5,-46.6C27.8,-46.9,55.5,0.6,41.2,24.6Z;
M41.9,23.2C30.3,44.2,-19.4,42.1,-32.8,20C-46.1,-2,-23.1,-44,1.8,-42.9C26.7,-41.9,53.4,2.2,41.9,23.2Z;
M42.5,24.6C29.2,47.7,-25.5,47,-39.5,23.5C-53.5,0.1,-26.7,-46.2,0.6,-45.9C28,-45.5,55.9,1.5,42.5,24.6Z;
M38.2,21.3C26.6,42.2,-21.5,41.2,-34,19.8C-46.4,-1.6,-23.2,-43.5,0.9,-43C24.9,-42.5,49.8,0.3,38.2,21.3Z;
M34.7,22.9C20.9,43.8,-30.7,45.7,-42.8,25.8C-54.9,5.8,-27.5,-35.9,-1.6,-36.9C24.2,-37.8,48.4,2,34.7,22.9Z;
"
          ></animate>
        </path>
        <path fill="white" transform="translate(500 500)" id="blob5">
          <animate
            attributeName="d"
            dur="20s"
            repeatCount="indefinite"
            values="
M60.8,-47.4C75.7,-29.8,82.6,-4.7,77.7,18.1C72.8,40.9,56.1,61.3,35.1,70.4C14.2,79.5,-11,77.3,-32.9,67.1C-54.8,57,-73.6,39,-75.9,19.9C-78.2,0.7,-64.1,-19.6,-48.7,-37.3C-33.4,-54.9,-16.7,-70,3.1,-72.5C22.9,-75,45.9,-64.9,60.8,-47.4Z;
M55.6,-44.9C70.8,-25.3,80.9,-2.3,77.2,19.1C73.5,40.5,56,60.2,35.4,67.9C14.9,75.6,-8.7,71.3,-25.7,60.4C-42.7,49.5,-53.1,32,-57.1,13.4C-61,-5.2,-58.4,-24.9,-47.8,-43.4C-37.3,-61.9,-18.6,-79.2,0.8,-79.9C20.2,-80.5,40.4,-64.4,55.6,-44.9Z;
M60.8,-47.4C75.7,-29.8,82.6,-4.7,77.7,18.1C72.8,40.9,56.1,61.3,35.1,70.4C14.2,79.5,-11,77.3,-32.9,67.1C-54.8,57,-73.6,39,-75.9,19.9C-78.2,0.7,-64.1,-19.6,-48.7,-37.3C-33.4,-54.9,-16.7,-70,3.1,-72.5C22.9,-75,45.9,-64.9,60.8,-47.4Z;
M44.1,-41.7C53.4,-23.7,54.3,-5.5,52.8,16.5C51.3,38.4,47.3,64.2,33,72.8C18.6,81.4,-6.1,72.7,-21.6,59.6C-37.2,46.5,-43.5,28.9,-49.3,9.5C-55.1,-9.9,-60.3,-31.1,-52,-48.9C-43.7,-66.8,-21.9,-81.3,-2.2,-79.5C17.5,-77.8,34.9,-59.8,44.1,-41.7Z;
M58.9,-49.5C67.9,-35.6,61.1,-11.6,55.8,13.1C50.5,37.9,46.6,63.3,32.7,71.4C18.7,79.5,-5.4,70.3,-23.5,58C-41.6,45.8,-53.8,30.4,-55.8,14.7C-57.8,-1,-49.6,-17,-38.6,-31.4C-27.6,-45.8,-13.8,-58.5,5.6,-63C24.9,-67.4,49.8,-63.5,58.9,-49.5Z;
"
          ></animate>
        </path>
      </svg>
    </div>
  </div>
</template>

<style scoped>
.block {
  background: blue;
  width: 100%;
  height: 600px;
}

.blob-wrapper {
  width: 100%;
  height: 250px;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

.blob {
  position: absolute;
  width: 100%;
  height: 100%;
}

svg {
  overflow: visible;
}
</style>
